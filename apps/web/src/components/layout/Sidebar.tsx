"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import { type ReactNode } from "react";

/* ─── SVG Icons ─── */

function IconHouse() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m19 24h-14c-1.103 0-2-.897-2-2v-9h-2c-.561 0-1-.439-1-1 0-.265.108-.525.296-.713l11.354-11.144c.194-.19.506-.19.7 0l11.35 11.14c.192.192.3.452.3.717 0 .561-.439 1-1 1h-2v9c0 1.103-.897 2-2 2zm-7-22.799-11 10.796 2.5.003c.276 0 .5.224.5.5v9.5c0 .551.449 1 1 1h14c.551 0 1-.449 1-1v-9.5c0-.276.224-.5.5-.5h2.5c0-.002-.002-.005-.003-.006z" />
    </svg>
  );
}

function IconChat() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M458.667,106.645h-64c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h64c17.643,0,32,14.357,32,32v192 c0,17.643-14.357,32-32,32H416c-5.888,0-10.667,4.779-10.667,10.667v42.667l-68.267-51.2c-1.835-1.387-4.096-2.133-6.4-2.133 h-128c-6.613,0-13.035-2.091-18.581-6.059c-4.736-3.435-11.435-2.347-14.869,2.453c-3.435,4.8-2.347,11.456,2.453,14.891 c9.173,6.592,19.883,10.069,30.997,10.069h124.437L409.6,467.2c1.877,1.408,4.139,2.133,6.4,2.133 c1.621,0,3.264-0.384,4.779-1.152c3.605-1.813,5.888-5.504,5.888-9.536v-53.333h32c29.419,0,53.333-23.936,53.333-53.333v-192 C512,130.581,488.085,106.645,458.667,106.645z" />
      <path d="M309.333,341.333c29.419,0,53.333-23.936,53.333-53.333V96c0-29.397-23.915-53.333-53.333-53.333h-256 C23.915,42.667,0,66.603,0,96v192c0,29.397,23.915,53.333,53.333,53.333h32v53.333c0,4.032,2.283,7.723,5.888,9.536 c1.515,0.747,3.157,1.131,4.779,1.131c2.261,0,4.523-0.725,6.4-2.133l82.496-61.867H309.333z M174.933,322.133l-68.267,51.2 v-42.667c0-5.888-4.779-10.667-10.667-10.667H53.333c-17.643,0-32-14.357-32-32V96c0-17.643,14.357-32,32-32h256 c17.643,0,32,14.357,32,32v192c0,17.643-14.357,32-32,32h-128C179.008,320,176.768,320.747,174.933,322.133z" />
    </svg>
  );
}

function IconCup() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m13.5 21h-3c-.276 0-.5-.224-.5-.5v-3.55c0-.276.224-.5.5-.5s.5.224.5.5v3.05h2v-3.05c0-.276.224-.5.5-.5s.5.224.5.5v3.55c0 .276-.224.5-.5.5z" />
      <path d="m16.5 24h-9c-.276 0-.5-.224-.5-.5v-1c0-1.379 1.121-2.5 2.5-2.5h5c1.379 0 2.5 1.121 2.5 2.5v1c0 .276-.224.5-.5.5zm-8.5-1h8v-.5c0-.827-.673-1.5-1.5-1.5h-5c-.827 0-1.5.673-1.5 1.5z" />
      <path d="m12 18c-.048 0-.096-.007-.142-.021-.36-.106-8.816-2.677-8.858-8.976v-7.503c0-.827.673-1.5 1.5-1.5h15c.827 0 1.5.673 1.5 1.5v7.5c0 6.302-8.497 8.873-8.859 8.979-.046.014-.093.021-.141.021zm-7.5-17c-.275 0-.5.225-.5.5v7.5c.034 5.143 6.919 7.618 8 7.976 1.085-.356 8-2.832 8-7.976v-7.5c0-.275-.225-.5-.5-.5z" />
      <path d="m15.718 11h-7.436c-.244 0-.453-.177-.493-.417l-.782-4.667c-.031-.186.045-.373.195-.485.151-.11.354-.129.521-.045l2.112 1.053 1.726-3.177c.176-.322.703-.322.879 0l1.726 3.177 2.112-1.053c.168-.084.369-.065.521.045.15.112.227.3.195.485l-.782 4.667c-.041.24-.25.417-.494.417zm-7.013-1h6.59l.55-3.281-1.666.83c-.239.122-.532.029-.662-.209l-1.517-2.792-1.517 2.792c-.13.238-.422.331-.662.209l-1.666-.83z" />
    </svg>
  );
}

function IconSearch() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512.016 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m202.667969 405.339844c-111.746094 0-202.667969-90.921875-202.667969-202.664063 0-111.746093 90.921875-202.6679685 202.667969-202.6679685 111.742187 0 202.664062 90.9218755 202.664062 202.6679685 0 111.742188-90.921875 202.664063-202.664062 202.664063zm0-373.332032c-94.101563 0-170.667969 76.566407-170.667969 170.667969 0 94.101563 76.566406 170.664063 170.667969 170.664063 94.101562 0 170.664062-76.5625 170.664062-170.664063 0-94.101562-76.5625-170.667969-170.664062-170.667969zm0 0" />
      <path d="m496 512.007812c-4.097656 0-8.191406-1.558593-11.308594-4.691406l-161.277344-161.28125c-6.25-6.25-6.25-16.382812 0-22.636718 6.25-6.25 16.382813-6.25 22.632813 0l161.28125 161.28125c6.25 6.25 6.25 16.382812 0 22.636718-3.136719 3.132813-7.230469 4.691406-11.328125 4.691406zm0 0" />
    </svg>
  );
}

function IconServers() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512.043 512.043"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M170.688,373.355c0-5.888-4.779-10.667-10.667-10.667h-14.123c-10.496-32.107-16.597-68.757-17.579-106.667h351.701 c5.888,0,10.667-4.779,10.667-10.667c0-0.043-0.021-0.085-0.021-0.128C490.581,110.016,380.587,0.043,245.376,0.021h-0.021 c0,0,0,0-0.021,0C110.059,0.021,0,110.08,0,245.355c0,101.632,61.12,191.296,155.733,228.437c1.28,0.512,2.603,0.747,3.904,0.747 c4.267,0,8.277-2.56,9.92-6.763c2.155-5.483-0.555-11.669-6.037-13.824c-38.187-14.997-70.357-39.381-94.421-69.931h61.483 c5.077,13.184,10.901,25.6,17.472,37.013c1.984,3.413,5.568,5.333,9.259,5.333c1.813,0,3.648-0.448,5.312-1.408 c5.12-2.944,6.891-9.451,3.947-14.571c-4.672-8.128-8.853-17.067-12.736-26.368h6.187 C165.909,384.021,170.688,379.243,170.688,373.355z M468.8,234.688h-85.077c-0.896-38.72-6.485-74.923-16.064-106.667h68.117 C455.147,159.339,466.944,195.691,468.8,234.688z M420.928,106.688h-60.523c-11.605-30.464-27.072-55.659-45.184-74.027 C357.376,46.549,393.941,72.619,420.928,106.688z M256.021,22.421c32.192,5.845,61.035,37.781,80.619,84.267h-80.619V22.421z M256.021,128.021h88.533c10.432,31.509,16.832,67.947,17.835,106.667H256.021V128.021z M234.688,234.688H128.32 c1.003-38.72,7.403-75.157,17.835-106.667h88.533V234.688z M234.688,22.421v84.267h-80.619 C173.653,60.203,202.496,28.267,234.688,22.421z M175.509,32.64c-18.112,18.368-33.579,43.584-45.205,74.048H69.739 C96.725,72.597,133.333,46.528,175.509,32.64z M54.891,128.021h68.16c-9.579,31.744-15.168,67.947-16.064,106.667h-85.12 C23.723,195.691,35.52,159.339,54.891,128.021z M54.357,362.688c-19.349-31.531-30.827-67.989-32.619-106.667h85.248 c0.896,37.931,6.357,74.24,16.256,106.667H54.357z" />
      <path d="M490.688,364.651v-55.296c0-17.643-14.357-32-32-32H245.355c-17.643,0-32,14.357-32,32v12.629 c-12.395,4.416-21.333,16.149-21.333,30.037v128c0,17.643,14.357,32,32,32h256c17.643,0,32-14.357,32.021-32v-85.333 C512.043,380.8,503.083,369.067,490.688,364.651z M234.688,309.355c0-5.888,4.8-10.667,10.667-10.667h213.333 c5.867,0,10.667,4.779,10.667,10.667v53.333H340.139c-3.968-0.235-13.739-11.925-19.008-18.197 c-10.517-12.587-20.459-24.469-33.109-24.469h-53.333V309.355z M490.688,480.021c0,5.888-4.8,10.667-10.667,10.667h-256 c-5.867,0-10.667-4.779-10.667-10.667v-128c0-5.888,4.8-10.667,10.667-10.667l63.744-0.021 c3.563,0.768,11.989,10.816,17.003,16.853c10.624,12.693,21.611,25.835,35.328,25.835h139.925 c5.867,0,10.667,4.779,10.667,10.667V480.021z" />
    </svg>
  );
}

function IconBalance() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M255.99,0c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32s32-14.357,32-32C287.99,14.357,273.633,0,255.99,0z M255.99,42.667c-5.888,0-10.667-4.779-10.667-10.667s4.779-10.667,10.667-10.667S266.657,26.112,266.657,32 S261.878,42.667,255.99,42.667z" />
      <path d="M255.99,42.667c-5.888,0-10.667,4.779-10.667,10.667c0,21.355-40.235,28.011-79.125,34.432 c-43.861,7.253-89.152,14.72-91.435,48.213L11.788,261.909c-1.664,3.285-1.472,7.232,0.469,10.368 c1.941,3.136,5.376,5.056,9.067,5.056h128c3.691,0,7.125-1.941,9.067-5.077c1.941-3.136,2.133-7.061,0.469-10.368L96.182,136.533 c3.008-16.085,40.363-22.272,73.472-27.712c27.157-4.501,56.469-9.323,75.669-20.907v349.419c0,5.888,4.779,10.667,10.667,10.667 s10.667-4.779,10.667-10.667v-384C266.657,47.445,261.878,42.667,255.99,42.667z M132.065,256H38.582l46.741-93.483L132.065,256z" />
      <path d="M319.99,298.667c-5.888,0-10.667,4.779-10.667,10.667c0,29.397-23.936,53.333-53.333,53.333s-53.333-23.936-53.333-53.333 c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667c0,41.173,33.493,74.667,74.667,74.667 s74.667-33.493,74.667-74.667C330.657,303.445,325.878,298.667,319.99,298.667z" />
      <path d="M255.99,426.667c-65.792,0-117.333,32.811-117.333,74.667c0,5.888,4.779,10.667,10.667,10.667h213.333 c5.888,0,10.667-4.779,10.667-10.667C373.324,459.477,321.782,426.667,255.99,426.667z M162.017,490.667 c9.173-24,48.512-42.667,93.995-42.667c45.483,0,84.8,18.667,93.973,42.667H162.017z" />
      <path d="M149.324,256c-5.888,0-10.667,4.779-10.667,10.667c0,29.397-23.936,53.333-53.333,53.333S31.99,296.064,31.99,266.667 c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667c0,41.173,33.493,74.667,74.667,74.667 c41.173,0,74.667-33.493,74.667-74.667C159.99,260.779,155.212,256,149.324,256z" />
      <path d="M500.214,261.909l-62.976-125.931c-2.304-33.515-47.595-40.981-91.435-48.213c-38.912-6.421-79.147-13.077-79.147-34.432 c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667c0,39.467,51.541,47.979,97.003,55.467 c33.109,5.461,70.464,11.627,73.472,27.733l-62.677,125.376c-1.664,3.285-1.472,7.232,0.469,10.368 c1.941,3.136,5.376,5.056,9.067,5.056h128c3.691,0,7.147-1.92,9.088-5.056C501.686,269.141,501.878,265.216,500.214,261.909z M379.916,256l46.741-93.483L473.398,256H379.916z" />
      <path d="M490.657,256c-5.888,0-10.667,4.779-10.667,10.667c0,29.397-23.936,53.333-53.333,53.333s-53.333-23.936-53.333-53.333 c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667c0,41.173,33.493,74.667,74.667,74.667 s74.667-33.493,74.667-74.667C501.324,260.779,496.545,256,490.657,256z" />
    </svg>
  );
}

function IconNotes() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M330.667,149.333h-192c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h192 c5.888,0,10.667-4.779,10.667-10.667S336.555,149.333,330.667,149.333z" />
      <path d="M74.667,384c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32c17.643,0,32-14.357,32-32 C106.667,398.357,92.309,384,74.667,384z M74.667,426.667C68.779,426.667,64,421.888,64,416c0-5.888,4.779-10.667,10.667-10.667 S85.333,410.112,85.333,416C85.333,421.888,80.555,426.667,74.667,426.667z" />
      <path d="M74.667,298.667c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32c17.643,0,32-14.357,32-32 C106.667,313.024,92.309,298.667,74.667,298.667z M74.667,341.333c-5.888,0-10.667-4.779-10.667-10.667S68.779,320,74.667,320 s10.667,4.779,10.667,10.667S80.555,341.333,74.667,341.333z" />
      <path d="M74.667,213.333c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32c17.643,0,32-14.357,32-32 C106.667,227.691,92.309,213.333,74.667,213.333z M74.667,256C68.779,256,64,251.221,64,245.333s4.779-10.667,10.667-10.667 s10.667,4.779,10.667,10.667S80.555,256,74.667,256z" />
      <path d="M74.667,128c-17.643,0-32,14.357-32,32s14.357,32,32,32c17.643,0,32-14.357,32-32S92.309,128,74.667,128z M74.667,170.667 C68.779,170.667,64,165.888,64,160s4.779-10.667,10.667-10.667S85.333,154.112,85.333,160S80.555,170.667,74.667,170.667z" />
      <path d="M456.064,106.667c-14.933,0-28.971,5.824-39.531,16.384l-29.419,29.419L384,155.584V74.667c0-17.643-14.357-32-32-32 h-55.296c-4.416-12.395-16.149-21.333-30.037-21.333h-37.845C221.291,8.32,207.317,0,192,0s-29.291,8.32-36.821,21.333h-37.845 c-13.888,0-25.621,8.939-30.037,21.333H32c-17.643,0-32,14.357-32,32V480c0,17.643,14.357,32,32,32h320c17.643,0,32-14.357,32-32 V313.728l82.133-82.133c0.021-0.021,0.043-0.021,0.064-0.043c0.021-0.021,0.021-0.043,0.043-0.064l29.376-29.376 C506.197,191.552,512,177.515,512,162.56C512,131.733,486.912,106.667,456.064,106.667z M106.667,53.333 c0-5.888,4.779-10.667,10.667-10.667h44.629c4.501,0,8.533-2.859,10.048-7.104c3.029-8.512,11.072-14.229,19.989-14.229 s16.96,5.717,19.989,14.229c1.515,4.267,5.547,7.104,10.048,7.104h44.629c5.888,0,10.667,4.779,10.667,10.667V64H106.667V53.333z M362.667,480c0,5.888-4.779,10.667-10.667,10.667H32c-5.888,0-10.667-4.779-10.667-10.667V74.667C21.333,68.779,26.112,64,32,64 h53.333v10.667c0,5.888,4.779,10.667,10.667,10.667h192c5.888,0,10.667-4.779,10.667-10.667V64H352 c5.888,0,10.667,4.779,10.667,10.667v102.251l-59.093,59.093c-1.493-0.789-3.115-1.344-4.907-1.344h-160 c-5.888,0-10.667,4.779-10.667,10.667S132.779,256,138.667,256h144.917l-64,64h-80.917c-5.888,0-10.667,4.779-10.667,10.667 s4.779,10.667,10.667,10.667h71.68l-16,64h-55.68c-5.888,0-10.667,4.779-10.667,10.667c0,5.888,4.779,10.667,10.667,10.667h64 c0.875,0,1.728-0.107,2.581-0.341l85.333-21.333c0.256-0.064,0.427-0.299,0.683-0.384c1.344-0.448,2.56-1.131,3.605-2.027 c0.192-0.171,0.491-0.192,0.683-0.384l67.115-67.136V480z M231.936,342.976c6.891,2.005,17.088,6.443,27.179,16.555 c10.112,10.112,14.571,20.331,16.576,27.2l-58.368,14.613L231.936,342.976z M293.653,373.909 c-3.477-8.789-9.259-19.264-19.477-29.461c-10.176-10.176-20.629-15.979-29.419-19.435l149.909-149.909L443.563,224 L293.653,373.909z M480.533,187.029l-21.888,21.888l-48.896-48.896l21.888-21.909c6.528-6.549,15.211-10.133,24.469-10.133 c19.051,0,34.56,15.509,34.56,34.603C490.667,171.819,487.061,180.501,480.533,187.029z" />
    </svg>
  );
}

function IconArrow() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m22.5 21h-21c-.827 0-1.5-.673-1.5-1.5v-14c0-.827.673-1.5 1.5-1.5h5c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5.224-.5.5v14c0 .276.224.5.5.5h21c.276 0 .5-.224.5-.5v-14c0-.276-.224-.5-.5-.5s-.5-.224-.5-.5.224-.5.5-.5c.827 0 1.5.673 1.5 1.5v14c0 .827-.673 1.5-1.5 1.5z" />
      <path d="m15.5 24h-7c-.202 0-.385-.122-.462-.309-.078-.187-.035-.402.108-.545 1.316-1.316 1.333-2.59 1.333-2.644.001-.275.225-.502.501-.502h4.02c.275 0 .499.222.5.497.001.063.04 1.336 1.354 2.649.143.143.186.358.108.545-.077.187-.26.309-.462.309zm-5.929-1h4.857c-.56-.801-.782-1.537-.87-2h-3.13c-.085.465-.301 1.2-.857 2zm4.929-2.5h.01z" />
      <path d="m23.5 18h-23c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h23c.276 0 .5.224.5.5s-.224.5-.5.5z" />
      <path d="m12 14c-2.757 0-5-2.243-5-5s2.243-5 5-5c.565 0 1.106.091 1.608.269.26.093.396.379.303.639-.093.259-.378.393-.639.303-.394-.14-.821-.211-1.272-.211-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4c0-.451-.071-.878-.211-1.272-.092-.26.043-.546.303-.639.26-.091.545.043.639.303.178.502.269 1.043.269 1.608 0 2.757-2.243 5-5 5z" />
      <path d="m12 11c-1.103 0-2-.897-2-2 0-.533.208-1.036.586-1.414.195-.195.512-.195.707 0s.195.512 0 .707c-.189.19-.293.441-.293.707 0 .551.449 1 1 1 .266 0 .517-.104.707-.293.195-.195.512-.195.707 0s.195.512 0 .707c-.378.378-.881.586-1.414.586z" />
      <path d="m12 9.5c-.128 0-.256-.049-.354-.146-.195-.195-.195-.512 0-.707l3.5-3.5c.195-.195.512-.195.707 0s.195.512 0 .707l-3.5 3.5c-.097.097-.225.146-.353.146z" />
      <path d="m18 6h-2.5c-.276 0-.5-.224-.5-.5v-2.5c0-.133.053-.26.146-.354l2.5-2.5c.144-.143.359-.186.545-.108.187.077.309.26.309.462v2h2c.202 0 .385.122.462.309.078.187.035.402-.108.545l-2.5 2.5c-.094.093-.221.146-.354.146zm-2-1h1.793l1.5-1.5h-1.293c-.276 0-.5-.224-.5-.5v-1.293l-1.5 1.5z" />
    </svg>
  );
}

function IconSuitcase() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m21.5 22h-19c-1.4 0-2.5-1.1-2.5-2.5v-12c0-1.4 1.1-2.5 2.5-2.5h19c1.4 0 2.5 1.1 2.5 2.5v12c0 1.4-1.1 2.5-2.5 2.5zm-19-16c-.8 0-1.5.7-1.5 1.5v12c0 .8.7 1.5 1.5 1.5h19c.8 0 1.5-.7 1.5-1.5v-12c0-.8-.7-1.5-1.5-1.5z" />
      <path d="m15.5 6c-.3 0-.5-.2-.5-.5v-2c0-.3-.2-.5-.5-.5h-5c-.3 0-.5.2-.5.5v2c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-2c0-.8.7-1.5 1.5-1.5h5c.8 0 1.5.7 1.5 1.5v2c0 .3-.2.5-.5.5z" />
      <path d="m12 14c-.1 0-.1 0-.2 0l-11.5-4c-.2-.1-.4-.4-.3-.7.1-.2.4-.4.7-.3l11.3 4 11.3-4c.3-.1.5 0 .6.3s0 .5-.3.6l-11.5 4c0 .1 0 .1-.1.1z" />
    </svg>
  );
}

function IconAnalytics() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M448,144c-35.104,0-63.648,28.416-63.936,63.456l-56.128,14.208c-10.688-22.272-31.104-38.976-55.936-44.032v-51.904 c27.52-7.168,48-32,48-61.728c0-35.296-28.704-64-64-64c-35.296,0-64,28.704-64,64c0,29.728,20.48,54.56,48,61.728v51.904 c-24.832,5.056-45.248,21.76-55.936,44.032l-56.128-14.208C127.648,172.416,99.104,144,64,144c-35.296,0-64,28.704-64,64 s28.704,64,64,64c24.224,0,45.088-13.664,55.936-33.568l56.384,14.272c-0.032,1.12-0.32,2.176-0.32,3.296 c0,21.952,8.896,41.856,23.264,56.32L148.8,387.776C142.272,385.504,135.328,384,128,384c-35.296,0-64,28.704-64,64 c0,35.296,28.704,64,64,64s64-28.704,64-64c0-16.384-6.368-31.168-16.512-42.496l50.464-75.456 C235.232,333.824,245.376,336,256,336c10.624,0,20.768-2.176,30.048-5.952l50.464,75.456C326.368,416.832,320,431.616,320,448 c0,35.296,28.704,64,64,64c35.296,0,64-28.704,64-64c0-35.296-28.704-64-64-64c-7.328,0-14.272,1.504-20.832,3.776l-50.432-75.456 C327.104,297.856,336,277.952,336,256c0-1.12-0.288-2.176-0.32-3.296l56.384-14.272C402.912,258.336,423.776,272,448,272 c35.296,0,64-28.704,64-64S483.296,144,448,144z M64,240c-17.664,0-32-14.368-32-32s14.336-32,32-32s32,14.368,32,32 S81.664,240,64,240z M128,480c-17.664,0-32-14.368-32-32c0-17.632,14.336-32,32-32s32,14.368,32,32 C160,465.632,145.664,480,128,480z M224,64c0-17.632,14.336-32,32-32s32,14.368,32,32s-14.336,32-32,32S224,81.632,224,64z M256,304c-26.464,0-48-21.536-48-48s21.536-48,48-48s48,21.536,48,48S282.464,304,256,304z M384,416c17.664,0,32,14.368,32,32 c0,17.632-14.336,32-32,32s-32-14.368-32-32C352,430.368,366.336,416,384,416z M448,240c-17.664,0-32-14.368-32-32 s14.336-32,32-32s32,14.368,32,32S465.664,240,448,240z" />
    </svg>
  );
}

function IconStarred() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m14.781 21c-.083 0-.166-.021-.242-.062l-2.539-1.404-2.539 1.404c-.168.094-.374.082-.53-.029-.156-.11-.236-.3-.205-.489l.49-3.007-2.073-2.125c-.131-.134-.176-.33-.117-.508.06-.178.214-.307.399-.335l2.846-.435 1.277-2.721c.164-.352.74-.352.904 0l1.277 2.721 2.846.435c.186.028.34.158.399.335.059.178.014.374-.117.508l-2.073 2.125.49 3.007c.031.189-.049.379-.205.489-.086.06-.186.091-.288.091zm-2.781-2.538c.083 0 .167.021.242.062l1.88 1.039-.365-2.24c-.025-.157.024-.316.136-.43l1.57-1.61-2.147-.328c-.165-.025-.307-.131-.377-.282l-.939-1.996-.938 1.998c-.07.151-.212.257-.377.282l-2.147.328 1.57 1.61c.111.114.161.273.136.43l-.365 2.24 1.88-1.039c.074-.043.158-.064.241-.064z" />
      <path d="m21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-17c0-1.378 1.121-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v17c0 1.378-1.121 2.5-2.5 2.5zm-19-21c-.827 0-1.5.673-1.5 1.5v17c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-17c0-.827-.673-1.5-1.5-1.5z" />
      <path d="m23.5 8h-23c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h23c.276 0 .5.224.5.5s-.224.5-.5.5z" />
      <path d="m5.5 5c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5s.5.224.5.5v4c0 .276-.224.5-.5.5z" />
      <path d="m18.5 5c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5s.5.224.5.5v4c0 .276-.224.5-.5.5z" />
    </svg>
  );
}

function IconInLove() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m12 24c-6.617 0-12-5.383-12-12s5.383-12 12-12 12 5.383 12 12-5.383 12-12 12zm0-22.5c-5.79 0-10.5 4.71-10.5 10.5s4.71 10.5 10.5 10.5 10.5-4.71 10.5-10.5-4.71-10.5-10.5-10.5z" />
      <path d="m12 20.28c-3.353 0-6.35-2.123-7.458-5.282-.08-.229-.044-.483.097-.682.14-.198.368-.316.611-.316h13.5c.243 0 .471.118.611.316.141.198.177.452.097.682-1.108 3.16-4.105 5.282-7.458 5.282zm-5.593-4.78c1.115 1.998 3.247 3.28 5.593 3.28s4.478-1.282 5.593-3.28z" />
      <path d="m16.5 12.083c-.147 0-.294-.043-.421-.129-.515-.349-3.079-2.177-3.079-3.9 0-1.133.98-2.054 2.185-2.054.484 0 .943.15 1.315.414.372-.264.831-.414 1.315-.414 1.205 0 2.185.921 2.185 2.054 0 1.723-2.564 3.551-3.079 3.9-.127.087-.274.129-.421.129zm-1.315-4.583c-.371 0-.685.254-.685.554 0 .572 1.058 1.632 2 2.354.942-.722 2-1.781 2-2.354 0-.3-.313-.554-.685-.554-.28 0-.537.143-.639.355-.248.522-1.105.522-1.354 0-.1-.212-.357-.355-.637-.355z" />
      <path d="m7.5 12.083c-.147 0-.294-.043-.421-.129-.515-.349-3.079-2.177-3.079-3.9 0-1.133.98-2.054 2.185-2.054.484 0 .943.15 1.315.414.372-.264.831-.414 1.315-.414 1.205 0 2.185.921 2.185 2.054 0 1.723-2.564 3.551-3.079 3.9-.127.087-.274.129-.421.129zm-1.315-4.583c-.372 0-.685.254-.685.554 0 .572 1.058 1.632 2 2.354.942-.722 2-1.781 2-2.354 0-.3-.313-.554-.685-.554-.28 0-.537.143-.639.355-.248.522-1.105.522-1.354 0-.1-.212-.357-.355-.637-.355z" />
    </svg>
  );
}

function IconRadioAntenna() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path clipRule="evenodd" d="m4.5 14c0-1.933 1.567-3.5 3.5-3.5s3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5-3.5-1.567-3.5-3.5zm3.5-2.5c-1.38071 0-2.5 1.1193-2.5 2.5s1.11929 2.5 2.5 2.5 2.5-1.1193 2.5-2.5-1.11929-2.5-2.5-2.5z" fillRule="evenodd" />
      <path d="m15 11.5c-.2761 0-.5.2239-.5.5s.2239.5.5.5h4c.2761 0 .5-.2239.5-.5s-.2239-.5-.5-.5z" />
      <path d="m14.5 16c0-.2761.2239-.5.5-.5h4c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-4c-.2761 0-.5-.2239-.5-.5z" />
      <path clipRule="evenodd" d="m4.39042 2.68767c-.1725-.21563-.48715-.25059-.70278-.07809-.21563.17251-.25059.48715-.07809.70279l3.35011 4.18763h-2.95966c-1.38071 0-2.5 1.11929-2.5 2.5v8c0 1.3807 1.11929 2.5 2.5 2.5h16c1.3807 0 2.5-1.1193 2.5-2.5v-8c0-1.38071-1.1193-2.5-2.5-2.5h-10.95968l3.35008-4.18763c.1725-.21564.1376-.53028-.0781-.70279-.2156-.1725-.5302-.13754-.7027.07809l-3.60961 4.51196zm3.60525 5.81233.00432.00002.00432-.00002h11.99569c.8284 0 1.5.67157 1.5 1.5v8c0 .8284-.6716 1.5-1.5 1.5h-16c-.82843 0-1.5-.6716-1.5-1.5v-8c0-.82843.67157-1.5 1.5-1.5z" fillRule="evenodd" />
    </svg>
  );
}

function IconInsurance() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m12 24c-.043 0-.085-.005-.127-.017-.099-.025-9.873-2.703-9.873-11.804v-8.179c0-.209.13-.397.327-.469l9.5-3.5c.111-.041.234-.041.346 0l9.5 3.5c.197.072.327.26.327.469v8.179c0 9.102-9.774 11.779-9.873 11.805-.042.011-.084.016-.127.016zm-9-19.651v7.83c0 7.882 7.85 10.466 9 10.802 1.15-.336 9-2.92 9-10.802v-7.83l-9-3.316z" />
      <path d="m12 16c-1.431 0-2.862-.424-4.283-1.271-.442-.265-.717-.757-.717-1.286v-2.943c0-.276.224-.5.5-.5s.5.224.5.5v2.943c0 .176.09.344.23.427 2.537 1.513 5.003 1.513 7.54 0 .14-.083.23-.251.23-.427v-2.943c0-.276.224-.5.5-.5s.5.224.5.5v2.943c0 .529-.275 1.021-.717 1.286-1.421.847-2.852 1.271-4.283 1.271z" />
      <path d="m12 13c-.071 0-.143-.015-.209-.046l-6.5-3c-.178-.082-.291-.259-.291-.454s.113-.372.291-.454l6.5-3c.133-.062.286-.062.419 0l6.5 3c.177.082.29.259.29.454s-.113.372-.291.454l-6.5 3c-.066.031-.138.046-.209.046zm-5.307-3.5 5.307 2.449 5.307-2.449-5.307-2.449z" />
    </svg>
  );
}

function IconSingle() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 25 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g fillRule="evenodd">
        <path d="m12.5 3c-2.2091 0-4 1.79086-4 4s1.7909 4 4 4 4-1.79086 4-4-1.7909-4-4-4zm-5 4c0-2.76142 2.23858-5 5-5 2.7614 0 5 2.23858 5 5s-2.2386 5-5 5c-2.76142 0-5-2.23858-5-5z" />
        <path d="m20.7837 16.9681c-5.1795-2.7524-11.3879-2.7524-16.5673 0-.13314.0707-.21635.2092-.21635.36v3.6718c0 .2762.22386.5.5.5h16c.2761 0 .5-.2238.5-.5v-3.6718c0-.1508-.0832-.2893-.2163-.36zm-17.0366-.8831c5.4729-2.9083 12.0329-2.9083 17.5058 0 .4597.2443.7471.7224.7471 1.2431v3.6718c0 .8285-.6716 1.5-1.5 1.5h-16c-.82843 0-1.5-.6715-1.5-1.5v-3.6718c0-.5207.28735-.9988.74709-1.2431z" />
      </g>
    </svg>
  );
}

function IconNotification() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m10 24c-1.93 0-3.5-1.57-3.5-3.5 0-.276.224-.5.5-.5s.5.224.5.5c0 1.378 1.121 2.5 2.5 2.5s2.5-1.122 2.5-2.5c0-.276.224-.5.5-.5s.5.224.5.5c0 1.93-1.57 3.5-3.5 3.5z" />
      <path d="m18.5 21h-17c-.827 0-1.5-.673-1.5-1.5 0-.439.191-.854.524-1.14.021-.018.044-.034.067-.048 1.532-1.33 2.409-3.247 2.409-5.272v-3.04c0-3.292 2.337-6.173 5.558-6.849.267-.056.534.116.592.387.057.27-.116.535-.387.592-2.76.579-4.763 3.048-4.763 5.87v3.04c0 2.343-1.026 4.559-2.815 6.081-.016.013-.032.026-.05.037-.086.092-.135.214-.135.342 0 .276.225.5.5.5h17c.275 0 .5-.224.5-.5 0-.128-.049-.251-.137-.343-.016-.011-.031-.022-.046-.034-.931-.785-1.659-1.768-2.165-2.922-.11-.253.005-.548.258-.659.25-.107.548.004.658.257.435.991 1.054 1.836 1.842 2.515.023.014.045.029.065.046.334.286.525.701.525 1.14 0 .827-.673 1.5-1.5 1.5z" />
      <path d="m17.5 13c-3.584 0-6.5-2.916-6.5-6.5s2.916-6.5 6.5-6.5 6.5 2.916 6.5 6.5-2.916 6.5-6.5 6.5zm0-12c-3.032 0-5.5 2.467-5.5 5.5s2.468 5.5 5.5 5.5 5.5-2.467 5.5-5.5-2.468-5.5-5.5-5.5z" />
      <path d="m17.5 9.5c-.276 0-.5-.224-.5-.5v-4.5h-.75c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1.25c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5z" />
    </svg>
  );
}

function IconRefer() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="m20.25 11c-.414 0-.75-.336-.75-.75v-4.5c0-.689-.561-1.25-1.25-1.25h-7.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h7.5c1.517 0 2.75 1.233 2.75 2.75v4.5c0 .414-.336.75-.75.75z" />
      <path d="m20.25 11c-.192 0-.384-.073-.53-.22l-1.75-1.75c-.293-.293-.293-.768 0-1.061s.768-.293 1.061 0l1.22 1.22 1.22-1.22c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-1.75 1.75c-.148.147-.34.22-.532.22z" />
      <path d="m11.25 21h-5.5c-1.517 0-2.75-1.233-2.75-2.75v-4.5c0-.414.336-.75.75-.75s.75.336.75.75v4.5c0 .689.561 1.25 1.25 1.25h5.5c.414 0 .75.336.75.75s-.336.75-.75.75z" />
      <path d="m5.5 16.25c-.192 0-.384-.073-.53-.22l-1.22-1.22-1.22 1.22c-.293.293-.768.293-1.061 0s-.293-.768 0-1.061l1.75-1.75c.293-.293.768-.293 1.061 0l1.75 1.75c.293.293.293.768 0 1.061-.146.147-.338.22-.53.22z" />
      <path d="m5 5c-1.378 0-2.5-1.122-2.5-2.5s1.122-2.5 2.5-2.5 2.5 1.122 2.5 2.5-1.122 2.5-2.5 2.5zm0-3.5c-.551 0-1 .449-1 1s.449 1 1 1 1-.449 1-1-.449-1-1-1z" />
      <path d="m9.25 10c-.414 0-.75-.336-.75-.75v-.5c0-.689-.561-1.25-1.25-1.25h-4.5c-.689 0-1.25.561-1.25 1.25v.5c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-.5c0-1.517 1.233-2.75 2.75-2.75h4.5c1.517 0 2.75 1.233 2.75 2.75v.5c0 .414-.336.75-.75.75z" />
      <path d="m19 19c-1.378 0-2.5-1.122-2.5-2.5s1.122-2.5 2.5-2.5 2.5 1.122 2.5 2.5-1.122 2.5-2.5 2.5zm0-3.5c-.551 0-1 .449-1 1s.449 1 1 1 1-.449 1-1-.449-1-1-1z" />
      <path d="m23.25 24c-.414 0-.75-.336-.75-.75v-.5c0-.689-.561-1.25-1.25-1.25h-4.5c-.689 0-1.25.561-1.25 1.25v.5c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-.5c0-1.517 1.233-2.75 2.75-2.75h4.5c1.517 0 2.75 1.233 2.75 2.75v.5c0 .414-.336.75-.75.75z" />
    </svg>
  );
}

function IconSettings() {
  return (
    <svg
      className="pt-sidebar-icon"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M394.667,0H117.333C52.629,0,0,52.629,0,117.333v277.333C0,459.371,52.629,512,117.333,512h277.333 C459.371,512,512,459.371,512,394.667V117.333C512,52.629,459.371,0,394.667,0z M490.667,394.667c0,52.928-43.072,96-96,96 H117.333c-52.928,0-96-43.072-96-96V117.333c0-52.928,43.072-96,96-96h277.333c52.928,0,96,43.072,96,96V394.667z" />
      <path d="M435.648,295.275l-33.621-26.347c0.405-4.245,0.661-8.576,0.661-12.907c0-4.395-0.256-8.768-0.683-13.163l33.941-26.624 c7.509-6.357,9.323-16.981,4.416-25.152l-36.352-62.827c-4.949-8.235-15.04-11.776-24.277-8.299l-39.531,15.893 c-7.104-5.077-14.507-9.387-22.4-13.099l-5.995-42.56C310.059,70.976,301.675,64,292.267,64h-72.533 c-9.493,0-17.899,7.125-19.627,16.939l-5.931,42.112c-7.957,3.776-15.445,8.149-22.379,13.056l-39.765-16 c-8.981-3.349-19.072,0.149-24.107,8.533l-36.181,62.549c-4.992,8.32-3.179,18.944,4.629,25.536l33.621,26.368 c-0.405,4.245-0.661,8.576-0.661,12.907c0,4.395,0.256,8.768,0.661,13.141l-33.941,26.624 c-7.509,6.357-9.323,16.981-4.416,25.152l36.352,62.827c4.949,8.235,15.061,11.776,24.277,8.299l39.531-15.893 c7.104,5.077,14.507,9.387,22.4,13.099l5.995,42.56c1.749,9.216,10.133,16.192,19.541,16.192h72.533 c9.493,0,17.899-7.125,19.669-16.939l5.909-42.112c7.957-3.776,15.445-8.149,22.379-13.056l39.765,16 c9.003,3.392,19.093-0.149,24.107-8.533l36.181-62.549C445.269,312.512,443.456,301.867,435.648,295.275z M386.325,371.435 l-43.712-17.579c-3.52-1.451-7.531-0.875-10.539,1.472c-8.341,6.507-17.835,12.053-28.203,16.491 c-3.413,1.472-5.845,4.629-6.357,8.32l-5.248,46.528h-71.275l-6.485-46.272c-0.533-3.712-2.965-6.891-6.443-8.341 c-10.219-4.267-19.413-9.664-28.139-16.448c-3.008-2.325-6.997-2.88-10.539-1.472l-43.712,17.6l-34.923-60.352l37.12-29.099 c2.965-2.325,4.48-6.037,4.011-9.771c-0.725-5.504-1.216-11.008-1.216-16.512c0-5.483,0.491-10.944,1.195-16.192 c0.491-3.733-1.003-7.488-3.989-9.813l-37.12-29.099l34.923-60.352l43.712,17.6c3.499,1.408,7.509,0.832,10.539-1.493 c8.341-6.485,17.835-12.032,28.203-16.491c3.435-1.472,5.845-4.608,6.357-8.299l5.248-46.528h71.275l6.485,46.272 c0.533,3.712,2.965,6.891,6.443,8.341c10.219,4.267,19.413,9.664,28.139,16.448c3.008,2.347,7.04,2.901,10.539,1.472 l43.712-17.621l34.923,60.352l-37.12,29.099c-2.965,2.325-4.48,6.037-4.011,9.771c0.725,5.504,1.216,11.008,1.216,16.512 c0,5.483-0.491,10.944-1.195,16.192c-0.491,3.733,1.003,7.488,3.989,9.813l37.12,29.099L386.325,371.435z" />
      <path d="M256,192c-35.285,0-64,28.715-64,64s28.715,64,64,64s64-28.715,64-64S291.285,192,256,192z M256,298.667 c-23.531,0-42.667-19.136-42.667-42.667s19.136-42.667,42.667-42.667s42.667,19.136,42.667,42.667S279.531,298.667,256,298.667z" />
    </svg>
  );
}

/* ─── Types ─── */

interface SidebarItem {
  href: string;
  label: string;
  emoji?: string;
  icon?: () => ReactNode;
}

interface SidebarGroup {
  label: string;
  items: SidebarItem[];
}

/* ─── Menu Configuration ─── */

const SIDEBAR_GROUPS: SidebarGroup[] = [
  {
    label: "Social",
    items: [
      { href: "/feed", label: "Feed", icon: IconHouse },
      { href: "/chat", label: "Chat", icon: IconChat },
      { href: "/leaderboard", label: "Leaderboard", icon: IconCup },
      { href: "/search", label: "Search", icon: IconSearch },
    ],
  },
  {
    label: "Firms",
    items: [
      { href: "/firms", label: "Directory", icon: IconServers },
      { href: "/compare", label: "Compare", icon: IconBalance },
    ],
  },
  {
    label: "Trading",
    items: [
      { href: "/journal", label: "Journal", icon: IconNotes },
      { href: "/challenges", label: "Challenges", icon: IconArrow },
      { href: "/portfolio", label: "Portfolio", icon: IconSuitcase },
      { href: "/analytics", label: "Analytics", icon: IconAnalytics },
      { href: "/calendar", label: "Calendar", icon: IconStarred },
    ],
  },
  {
    label: "Markets",
    items: [
      { href: "/sentiments", label: "Sentiments", icon: IconInLove },
      { href: "/news", label: "News", icon: IconRadioAntenna },
    ],
  },
  {
    label: "Learn",
    items: [
      { href: "/academy", label: "Academy", icon: IconInsurance },
    ],
  },
  {
    label: "Account",
    items: [
      { href: "/profile", label: "Profile", icon: IconSingle },
      { href: "/notifications", label: "Notifications", icon: IconNotification },
      { href: "/referrals", label: "Referrals", icon: IconRefer },
      { href: "/settings", label: "Settings", icon: IconSettings },
    ],
  },
];

/* ─── Component ─── */

interface SidebarProps {
  collapsed?: boolean;
  mobileOpen?: boolean;
  onCloseMobile?: () => void;
}

export function Sidebar({ collapsed = false, mobileOpen = false, onCloseMobile }: SidebarProps) {
  const pathname = usePathname();

  const isActive = (href: string) => {
    if (href === "/feed") return pathname === "/" || pathname === "/feed" || pathname.startsWith("/feed");
    if (href === "/profile") return pathname === "/profile" || pathname.startsWith("/@");
    return pathname.startsWith(href);
  };

  return (
    <>
      {/* Mobile overlay */}
      <div
        className={`pt-sidebar-overlay ${mobileOpen ? "open" : ""}`}
        onClick={onCloseMobile}
      />

      {/* Sidebar */}
      <nav
        className={`pt-sidebar ${collapsed ? "collapsed" : ""} ${mobileOpen ? "mobile-open" : ""}`}
        role="navigation"
        aria-label="Main navigation"
      >
        {SIDEBAR_GROUPS.map((group) => (
          <div key={group.label} className="pt-sidebar-group">
            <div className="pt-sidebar-group-label">{group.label}</div>
            {group.items.map((item) => (
              <Link
                key={item.href}
                href={item.href}
                className={`pt-sidebar-link ${isActive(item.href) ? "active" : ""}`}
                onClick={onCloseMobile}
              >
                {item.icon ? (
                  <item.icon />
                ) : (
                  <span className="pt-sidebar-emoji">{item.emoji}</span>
                )}
                <span>{item.label}</span>
              </Link>
            ))}
          </div>
        ))}
      </nav>
    </>
  );
}
